{"version":3,"sources":["scripts/app-bfd9ccb2dc.js"],"names":["angular","module","leapControllerProvider","controller","Leap","Controller","background","use","loop","pauseHotkey","pauseOnHand","autoPlay","connect","player","plugins","this","$get","provider","MainController","$scope","leapController","$resource","vm","view","loading","currentGestureId","unsavedRecording","Gesture","id","create","method","index","isArray","show","update","destroy","gestures","play","selectGesture","response","setRecording","compressedRecording","data","record","on","$apply","loadGestures","save","gesture","recording","newGesture","$save","then","$inject","runBlock","$log","debug","run","routerConfig","$stateProvider","$urlRouterProvider","state","url","templateUrl","controllerAs","otherwise","config","$logProvider","toastrConfig","debugEnabled","allowHtml","timeOut","positionClass","preventDuplicates","progressBar","$templateCache","put"],"mappings":"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","file":"scripts/app-bfd9ccb2dc.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('leapgesture', ['ngCookies', 'ngTouch', 'ngSanitize', 'ngMessages', 'ngAria', 'ngResource', 'ui.router', 'ui.bootstrap', 'toastr', 'ui-rangeSlider']);\n\n})();\n\n/* global Leap:false */\n(function() {\n  'use strict';\n\n  angular\n    .module('leapgesture')\n    .provider('leapController', leapControllerProvider);\n\n\n  function leapControllerProvider() {\n\n    var controller = new Leap.Controller({background: true})\n        .use('playback', {\n          // recording: '/api/gestures/20/data.lz', // this is a test\n          loop: false,\n          pauseHotkey: false,\n          pauseOnHand: false,\n          autoPlay : false\n        })\n        .use('riggedHand')\n        .connect();\n\n\n    var player =  controller.plugins['playback'].player;\n\n    this.$get = function leapController() {\n      return {\n        controller : controller,\n        player : player\n      };\n    };\n\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('leapgesture')\n    .controller('MainController', MainController);\n\n  /** @ngInject */\n  function MainController($scope, leapController, $resource) {\n\n    var vm = this;\n\n    vm.view = {\n      loading : false,\n      currentGestureId : null,\n      unsavedRecording : false\n    };\n\n    var Gesture = $resource(\"/api/gestures/:id\", { id: \"@id\" },\n      {\n        'create':  { method: 'POST' },\n        'index':   { method: 'GET', isArray: false },\n        'show':    { method: 'GET', isArray: false },\n        'update':  { method: 'PUT' },\n        'destroy': { method: 'DELETE' }\n      }\n    );\n\n    vm.gestures = [];\n\n    vm.player = leapController.player;\n\n    vm.play = function() {\n      leapController.player.play();\n    };\n\n    vm.selectGesture = function(id) {\n      vm.view.unsavedRecording = false;\n      vm.view.loading = true;\n      // get the recording from the server\n      Gesture.show({id : id}, function(response){\n        leapController.player.setRecording({'compressedRecording' : response.data.data});\n        vm.view.currentGestureId = response.data.id;\n        vm.view.loading = false;\n        vm.play();\n      });\n    };\n\n    vm.record = function() {\n      leapController.player.record();\n      leapController.controller.on('playback.recordingFinished', function(){\n        vm.view.unsavedRecording = true;\n        $scope.$apply();\n      });\n    };\n\n    vm.delete = function() {\n      vm.view.loading = true;\n      Gesture.destroy({id : vm.view.currentGestureId}, function(){\n        vm.view.loading = false;\n        loadGestures();\n      });\n    };\n\n    vm.save = function() {\n      var gesture = leapController.player.recording.export('lz');\n      var newGesture = new Gesture({'data': gesture});\n      newGesture.$save().then(function(){\n        vm.view.unsavedRecording = false;\n        loadGestures();\n      });\n    };\n\n    // We can retrieve a collection from the server\n    var loadGestures = function() {\n      vm.view.loading = true;\n      Gesture.index(function(response) {\n        vm.gestures = response.data;\n        vm.view.loading = false;\n      });\n    };\n\n    loadGestures();\n\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('leapgesture')\n    .run(runBlock);\n\n  /** @ngInject */\n  function runBlock($log) {\n\n    $log.debug('runBlock end');\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('leapgesture')\n    .config(routerConfig);\n\n  /** @ngInject */\n  function routerConfig($stateProvider, $urlRouterProvider) {\n    $stateProvider\n      .state('home', {\n        url: '/',\n        templateUrl: 'app/main/main.html',\n        controller: 'MainController',\n        controllerAs: 'main'\n      });\n\n    $urlRouterProvider.otherwise('/');\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('leapgesture');\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('leapgesture')\n    .config(config);\n\n  /** @ngInject */\n  function config($logProvider, toastrConfig) {\n    // Enable log\n    $logProvider.debugEnabled(true);\n\n    // Set options third-party lib\n    toastrConfig.allowHtml = true;\n    toastrConfig.timeOut = 3000;\n    toastrConfig.positionClass = 'toast-top-right';\n    toastrConfig.preventDuplicates = true;\n    toastrConfig.progressBar = true;\n\n  }\n\n})();\n\nangular.module(\"leapgesture\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/main/main.html\",\"<div class=\\\"container\\\"><div class=\\\"loading\\\" ng-show=\\\"main.view.loading\\\"><span class=\\\"loading-spin\\\"></span></div><div class=\\\"controls\\\"><div class=\\\"row gestures\\\"><div class=\\\"col-md-12 btn-group\\\"><button ng-repeat=\\\"gesture in main.gestures\\\" class=\\\"btn btn-default\\\" ng-class=\\\"{ selected : gesture.id === main.view.currentGestureId }\\\" ng-click=\\\"main.selectGesture(gesture.id)\\\">{{$index + 1}}</button></div></div><div class=\\\"row\\\"><div class=\\\"col-md-12\\\"><button class=\\\"btn btn-default\\\" ng-click=\\\"main.record()\\\"><span class=\\\"glyphicon glyphicon-record\\\"></span> Record</button> <button class=\\\"btn btn-default\\\" ng-disabled=\\\"!main.player.recording\\\" ng-click=\\\"main.play()\\\"><span class=\\\"glyphicon glyphicon-play\\\"></span> Play</button> <button class=\\\"btn btn-default\\\" ng-disabled=\\\"!main.view.unsavedRecording\\\" ng-click=\\\"main.save()\\\"><span class=\\\"glyphicon glyphicon-save\\\"></span> Save</button> <button class=\\\"btn btn-default\\\" ng-disabled=\\\"!main.player.recording\\\" ng-click=\\\"main.delete()\\\"><span class=\\\"glyphicon glyphicon-trash\\\"></span> Delete</button></div></div></div></div>\");}]);"],"sourceRoot":"/source/"}